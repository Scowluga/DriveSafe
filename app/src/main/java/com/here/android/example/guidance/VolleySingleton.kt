package com.here.android.example.guidance

import android.content.Context
import android.util.Log
import com.android.volley.Request
import com.android.volley.RequestQueue
import com.android.volley.Response
import com.android.volley.VolleyError
import com.android.volley.toolbox.JsonArrayRequest
import com.android.volley.toolbox.JsonObjectRequest
import com.android.volley.toolbox.JsonRequest
import com.android.volley.toolbox.Volley
import com.google.gson.JsonArray
import com.google.gson.JsonObject
import com.here.android.mpa.common.GeoCoordinate
import kotlinx.coroutines.Dispatchers
import kotlinx.coroutines.withContext
import org.json.JSONArray
import org.json.JSONObject

class VolleySingleton constructor(context: Context) {
    companion object {
        @Volatile
        private var INSTANCE: VolleySingleton? = null
        fun getInstance(context: Context) = INSTANCE ?: synchronized(this) {
            INSTANCE ?: VolleySingleton(context).also {
                INSTANCE = it
            }
        }


        private val URL = "https://cs348-278621.ue.r.appspot.com/intersections/"
    }

    private val requestQueue: RequestQueue by lazy {
        Volley.newRequestQueue(context.applicationContext)
    }


    fun getIntersections(activity: MainActivity) {
        Log.d("DALU_JSON", "Fetching Intersections...")

        requestQueue.add(JsonArrayRequest(
            Request.Method.GET,
            URL,
            null,
            Response.Listener<JSONArray> { jsonArray ->
                Log.d("DALU_JSON", jsonArray!!.toString())

                for (i in 0 until jsonArray.length()) {
                    val rawIntersection = jsonArray.get(i) as JSONObject

                    val dangerRatio = rawIntersection.safeGetDouble("num_collisions") / (
                        rawIntersection.safeGetDouble("north")
                            + rawIntersection.safeGetDouble("south")
                            + rawIntersection.safeGetDouble("east")
                            + rawIntersection.safeGetDouble("west"))

                    activity.intersections.add(
                        Intersection(
                            rawIntersection.get("name") as String,
                            GeoCoordinate(rawIntersection.safeGetDouble("latitude"), rawIntersection.safeGetDouble("longitude")),
                            dangerRatio
                        )
                    )
                }
                activity.dataReceived() // notify to update map
            },
            Response.ErrorListener {
                Log.d("DALU_JSON", "Error: $it")
            }
        ))
    }

    private fun JSONObject.safeGetDouble(key: String): Double = if (get(key) == "null" || get(key) == JSONObject.NULL) 0.0 else getDouble(key)



    // Returns list of intersection names
    // Hardcoded for now
    suspend fun getIntersectionNames(): List<String> {
        return withContext(Dispatchers.Main) {
            listOf("ABBOTT ST & EXPO BOULEVARD","ABBOTT ST & KEEFER PLACE","ABBOTT ST & PACIFIC BOULEVARD","ABBOTT ST & W CORDOVA ST","ABBOTT ST & W HASTINGS ST","ABBOTT ST & W PENDER ST","ABBOTT ST & WATER ST","ADANAC ST & CASSIAR ST","ADANAC ST & CLARK DR","ADANAC ST & NANAIMO ST","ADANAC ST & RENFREW ST","ADANAC ST & RUPERT ST","ADERA ST & W 64TH AVE","ALBERNI ST & BROUGHTON ST","ALBERNI ST & BURRARD ST","ALBERNI ST & BUTE ST","ALBERNI ST & CARDERO ST","ALBERNI ST & DENMAN ST","ALBERNI ST & JERVIS ST","ALBERNI ST & NICOLA ST","ALBERNI ST & THURLOW ST","ALBERTA ST & W 49TH AVE","ALBERTA ST & W 6TH AVE","ALDER CROSSING & W 6TH AVE","ALDER ST & W 6TH AVE","ALEX&RA ST & NANTON AVE","ALMA ST & POINT GREY ROAD","ALMA ST & W 10TH AVE","ALMA ST & W 4TH AVE","ALMA ST & W BROADWAY","ANGUS DR & SW MARINE DR","ANGUS DR & W 57TH AVE","ANGUS DR & W 64TH AVE","ARBUTUS ST & CORNWALL AVE","ARBUTUS ST & SW MARINE DR","ARBUTUS ST & VALLEY DR","ARBUTUS ST & W 12TH AVE","ARBUTUS ST & W 16TH AVE","ARBUTUS ST & W 33RD AVE","ARBUTUS ST & W 49TH AVE","ARBUTUS ST & W 4TH AVE","ARBUTUS ST & W 51ST AVE","ARBUTUS ST & W 57TH AVE","ARBUTUS ST & W BROADWAY","ARBUTUS ST & W KING EDWARD AVE","ARGYLE DR & E 57TH AVE","ARGYLE ST & E 57TH AVE","ARGYLE ST & E 59TH AVE","ARGYLE ST & SE MARINE DR","ASH ST & W 12TH AVE","ASH ST & W 13TH AVE","ASH ST & W 6TH AVE","ASH ST & W BROADWAY","ASHBURN ST & ELLIOTT ST","BALSAM ST & CORNWALL AVE","BARNARD ST & SW MARINE DR","BEACH AVE & DENMAN ST","BEACH AVE & HORNBY ST","BEACH AVE & HOWE ST","BEACH AVE & THURLOW ST","BEATTY ST & DUNSMUIR VIADUCT","BEATTY ST & GEORGIA VIADUCT","BEATTY ST & NELSON ST","BEATTY ST & ROBSON ST","BEATTY ST & SMITHE ST","BEATTY ST & W PENDER ST","BEGG ST & TERMINAL AVE","BLANCA ST & W 10TH AVE","BLANCA ST & W 16TH AVE","BLANCA ST & W 4TH AVE","BLENHEIM ST & SW MARINE DR","BLENHEIM ST & W 10TH AVE","BLENHEIM ST & W 16TH AVE","BLENHEIM ST & W 33RD AVE","BLENHEIM ST & W 41ST AVE","BLENHEIM ST & W BROADWAY","BLENHEIM ST & W KING EDWARD AVE","BOUNDARY ROAD & ADANAC ST","BOUNDARY ROAD & ARBOR AVE","BOUNDARY ROAD & E 11TH AVE","BOUNDARY ROAD & E 18TH AVE","BOUNDARY ROAD & E 1ST AVE","BOUNDARY ROAD & E 22ND AVE","BOUNDARY ROAD & E 29TH AVE","BOUNDARY ROAD & E 45TH AVE","BOUNDARY ROAD & E 49TH AVE","BOUNDARY ROAD & E HASTINGS ST","BOUNDARY ROAD & GR&VIEW HIGHWAY","BOUNDARY ROAD & GRAVEELEY ST","BOUNDARY ROAD & KINGSWAY","BOUNDARY ROAD & LOUGHEED HIGHWAY","BOUNDARY ROAD & MARINE WAY","BOUNDARY ROAD & MOSCROP ST","BOUNDARY ROAD & RUMBLE AVE","BOUNDARY ROAD & VANNESS AVE","BOUNDARY ROAD & WELLINGTON AVE","BOYD DIVERSION & E 22ND AVE","BROUGHTON ST & W GEORGIA ST","BRUNSWICK ST & E 2ND AVE","BURRARD ST & COMOX ST","BURRARD ST & DAVEIE ST","BURRARD ST & DRAKE ST","BURRARD ST & DUNSMUIR ST","BURRARD ST & HELMCKEN ST","BURRARD ST & NELSON ST","BURRARD ST & PACIFIC ST","BURRARD ST & ROBSON ST","BURRARD ST & SMITHE ST","BURRARD ST & W 12TH AVE","BURRARD ST & W 16TH AVE","BURRARD ST & W 1ST AVE","BURRARD ST & W 3RD AVE","BURRARD ST & W 4TH AVE","BURRARD ST & W 8TH AVE","BURRARD ST & W BROADWAY","BURRARD ST & W CORDOVA ST","BURRARD ST & W GEORGIA ST","BURRARD ST & W HASTINGS ST","BURRARD ST & W PENDER ST","BUTE ST & COMOX ST","BUTE ST & DAVEIE ST","BUTE ST & MELVILLE ST","BUTE ST & ROBSON ST","BUTE ST & W CORDOVA ST","BUTE ST & W GEORGIA ST","BUTE ST & W HASTINGS ST","BUTE ST & W PENDER ST","CAMBIE BRIDGE & W 2ND AVE","CAMBIE ST & DUNSMUIR ST","CAMBIE ST & NELSON ST","CAMBIE ST & PACIFIC BOULEVARD","CAMBIE ST & ROBSON ST","CAMBIE ST & SMITHE ST","CAMBIE ST & SW MARINE DR","CAMBIE ST & W 10TH AVE","CAMBIE ST & W 12TH AVE","CAMBIE ST & W 16TH AVE","CAMBIE ST & W 29TH AVE","CAMBIE ST & W 33RD AVE","CAMBIE ST & W 41ST AVE","CAMBIE ST & W 43RD AVE","CAMBIE ST & W 45TH AVE","CAMBIE ST & W 49TH AVE","CAMBIE ST & W 57TH AVE","CAMBIE ST & W 59TH AVE","CAMBIE ST & W 7TH AVE","CAMBIE ST & W 8TH AVE","CAMBIE ST & W BROADWAY","CAMBIE ST & W CORDOVA ST","CAMBIE ST & W GEORGIA ST","CAMBIE ST & W HASTINGS ST","CAMBIE ST & W KING EDWARD AVE","CAMBIE ST & W PENDER ST","CAMBIE ST & WATER ST","CAMPBELL AVE & E HASTINGS ST","CAMPBELL AVE & VENABLES ST","CARDERO ST & W GEORGIA ST","CARNARVON ST & W 10TH AVE","CAROLINA ST & TERMINAL AVE","CARRALL ST & E CORDOVA ST","CARRALL ST & E HASTINGS ST","CARRALL ST & E PENDER ST","CARRALL ST & EXPO BOULEVARD","CARRALL ST & KEEFER ST","CARRALL ST & PACIFIC BOULEVARD","CARRALL ST & POWELL ST","CASSIAR ST & E HASTINGS ST","CHAMPLAIN CRESCENT & E 54TH AVE","CHARLES ST & GARDEN DR","CHESS ST & MALKIN AVE","CLANCY LORANGER WAY & MIDLOTHIAN AVE","CLARENDON ST & E 34TH AVE","CLARENDON ST & E 38TH AVE","CLARENDON ST & E 41ST AVE","CLARK DR & E 10TH AVE","CLARK DR & E 12TH AVE","CLARK DR & E 3RD AVE","CLARK DR & E 6TH AVE","CLARK DR & E 7TH AVE","CLARK DR & E BROADWAY","CLARK DR & E HASTINGS ST","CLARK DR & GR&VIEW HWY NORTH","CLARK DR & GR&VIEW VIADUCT","CLARK DR & KINGSWAY","CLARK DR & POWELL ST","CLARK DR & VENABLES ST","COLUMBIA ST & E CORDOVA ST","COLUMBIA ST & E HASTINGS ST","COLUMBIA ST & E PENDER ST","COLUMBIA ST & POWELL ST","COLUMBIA ST & W 10TH AVE","COLUMBIA ST & W 2ND AVE","COLUMBIA ST & W 49TH AVE","COLUMBIA ST & W 4TH AVE","COMMERCIAL DIV NORTH & ADANAC ST","COMMERCIAL DR & E 10TH AVE","COMMERCIAL DR & E 12TH AVE","COMMERCIAL DR & E 14TH AVE","COMMERCIAL DR & E 15TH AVE","COMMERCIAL DR & E 1ST AVE","COMMERCIAL DR & E BROADWAY","COMMERCIAL DR & E HASTINGS ST","COMMERCIAL DR & GR&VIEW HWY NORTH","COMMERCIAL DR & POWELL ST","COMMERCIAL DR & VENABLES ST","COMMERCIAL ST & E 41ST AVE","COMOX ST & DENMAN ST","COMOX ST & THURLOW ST","CORNWALL AVE & CYPRESS ST","COTTRELL ST & TERMINAL AVE","CROWE ST & W 2ND AVE","CYPRESS ST & W 10TH AVE","CYPRESS ST & W 45TH AVE","CYPRESS ST & W 4TH AVE","DAVEIE ST & PACIFIC BOULEVARD","DENMAN ST & DAVEIE ST","DENMAN ST & NELSON ST","DENMAN ST & ROBSON ST","DENMAN ST & W GEORGIA ST","DISCOVERY ST & W 10TH AVE","DRAKE ST & HOMER ST","DRAKE ST & HORNBY ST","DRAKE ST & HOWE ST","DRAKE ST & RICHARDS ST","DRAKE ST & SEYMOUR ST","DUMFRIES ST & E 41ST AVE","DUNBAR ST & SW MARINE DR","DUNBAR ST & W 16TH AVE","DUNBAR ST & W 33RD AVE","DUNBAR ST & W 41ST AVE","DUNBAR ST & W KING EDWARD AVE","DUNLEVY AVE & E HASTINGS ST","DUNSMUIR ST & GRANVILLE ST","DUNSMUIR ST & HAMILTON ST","DUNSMUIR ST & HOMER ST","DUNSMUIR ST & HORNBY ST","DUNSMUIR ST & HOWE ST","DUNSMUIR ST & RICHARDS ST","DUNSMUIR ST & SEYMOUR ST","E 12TH AVE & FRASER ST","E 12TH AVE & KINGSWAY & MILLTOWN PL","E 12TH AVE & MAIN ST","E 12TH AVE & ONTARIO ST & W 12TH AVE","E 12TH AVE & VICTORIA DR","E 15TH AVE & KNIGHT ST","E 16TH AVE & MAIN ST","E 1ST AVE & NANAIMO ST","E 1ST AVE & ONTARIO ST & W 1ST AVE","E 1ST AVE & QUEBEC ST","E 1ST AVE & RENFREW ST","E 1ST AVE & RUPERT ST & ACCESS ROAD","E 1ST AVE & TRANS CANADA HIGHWAY","E 1ST AVE & VICTORIA DR","E 22ND AVE & MAIN ST","E 22ND AVE & NANAIMO ST","E 22ND AVE & RUPERT ST","E 22ND AVE & SLOCAN ST","E 23RD AVE & SOPHIA ST","E 28TH AVE & WINDSOR ST","E 29TH AVE & EARLES ST & NOOTKA ST","E 29TH AVE & JOYCE ST","E 29TH AVE & RUPERT ST","E 29TH AVE & SLOCAN ST","E 2ND AVE & MAIN ST","E 2ND AVE & QUEBEC ST","E 2ND AVE & SCOTIA ST","E 33RD AVE & FRASER ST","E 33RD AVE & KNIGHT ST","E 33RD AVE & MAIN ST","E 33RD AVE & NANAIMO ST","E 33RD AVE & ONTARIO ST & W 33RD AVE","E 33RD AVE & SLOCAN ST","E 33RD AVE & VICTORIA DR","E 37TH AVE & MAIN ST","E 41ST AVE & EARLES ST","E 41ST AVE & FRASER ST","E 41ST AVE & KNIGHT ST","E 41ST AVE & MAIN ST","E 41ST AVE & NANAIMO ST","E 41ST AVE & RHODES ST","E 41ST AVE & RUPERT ST","E 41ST AVE & VICTORIA DR","E 45TH AVE & RUPERT ST","E 45TH AVE & VICTORIA DR","E 49TH AVE & ELLIOTT ST","E 49TH AVE & FRASER ST","E 49TH AVE & FRONTENAC ST","E 49TH AVE & KERR ST","E 49TH AVE & KILLARNEY ST","E 49TH AVE & KNIGHT ST","E 49TH AVE & MAIN ST","E 49TH AVE & ONTARIO ST & W 49TH AVE","E 49TH AVE & TYNE ST","E 49TH AVE & VICTORIA DR","E 54TH AVE & ELLIOTT ST","E 54TH AVE & KERR ST","E 55TH AVE & KERR ST","E 57TH AVE & FRASER ST","E 57TH AVE & KNIGHT ST","E 57TH AVE & MAIN ST","E 59TH AVE & FRASER ST","E 59TH AVE & KNIGHT ST","E 59TH AVE & MAIN ST","E 59TH AVE & ONTARIO ST & W 59TH AVE","E 5TH AVE & QUEBEC ST","E 6TH AVE & GLEN DR & GREAT NORTHERN WAY","E 6TH AVE & ONTARIO ST & W 6TH AVE","E 7TH AVE & QUEBEC ST","E BROADWAY & FRASER ST","E BROADWAY & GLEN DR","E BROADWAY & KINGSWAY","E BROADWAY & MAIN ST","E BROADWAY & NANAIMO ST","E BROADWAY & NOOTKA ST","E BROADWAY & QUEBEC ST","E BROADWAY & RENFREW ST","E BROADWAY & RUPERT ST","E BROADWAY & SLOCAN ST","E BROADWAY & VICTORIA DR","E CORDOVA ST & GORE AVE","E CORDOVA ST & HEATLEY AVE","E CORDOVA ST & MAIN ST","E CORDOVA ST & PRINCESS AVE","E GEORGIA ST & MAIN ST","E HASTINGS ST & GORE AVE","E HASTINGS ST & HEATLEY AVE","E HASTINGS ST & KOOTENAY ST","E HASTINGS ST & MAIN ST","E HASTINGS ST & NANAIMO ST","E HASTINGS ST & PENTICTON ST","E HASTINGS ST & RENFREW ST","E HASTINGS ST & SKEENA ST","E HASTINGS ST & VICTORIA DR","E HASTINGS ST & WINDERMERE ST","E KING EDWARD AVE & FRASER ST","E KING EDWARD AVE & KINGSWAY","E KING EDWARD AVE & KNIGHT ST","E KING EDWARD AVE & MAIN ST","E PENDER ST & GARDEN DR","E PENDER ST & GORE AVE","E PENDER ST & MAIN ST","EARLES ST & KINGSWAY","EAST BOULEVARD & W 41ST AVE","EAST BOULEVARD & W 49TH AVE","ELLIOTT ST & E 45TH AVE","ELLIOTT ST & SE MARINE DR","FIR ST & MARPOLE AVE","FIR ST & W 12TH AVE","FIR ST & W 16TH AVE","FIR ST & W 3RD AVE","FIR ST & W BROADWAY","FOLEY ST & GREAT NORTHERN WAY","FRASER ST & E KENT AVE NORTH","FRASER ST & KINGSWAY","FRASER ST & SE MARINE DR","GEORGIA VIADUCT & MAIN ST","GORE AVE & KEEFER ST","GORE AVE & POWELL ST","GORE AVE & PRIOR ST","GORE AVE & UNION ST","GRANVILLE BRIDGE & DRAKE ST","GRANVILLE ST & DAVEIE ST","GRANVILLE ST & HELMCKEN ST","GRANVILLE ST & NELSON ST","GRANVILLE ST & ROBSON ST","GRANVILLE ST & SMITHE ST","GRANVILLE ST & SW MARINE DR","GRANVILLE ST & W 12TH AVE","GRANVILLE ST & W 16TH AVE","GRANVILLE ST & W 33RD AVE","GRANVILLE ST & W 41ST AVE","GRANVILLE ST & W 49TH AVE","GRANVILLE ST & W 57TH AVE","GRANVILLE ST & W 59TH AVE","GRANVILLE ST & W 64TH AVE","GRANVILLE ST & W 70TH AVE","GRANVILLE ST & W 71ST AVE","GRANVILLE ST & W 7TH AVE","GRANVILLE ST & W BROADWAY","GRANVILLE ST & W CORDOVA ST","GRANVILLE ST & W GEORGIA ST","GRANVILLE ST & W HASTINGS ST","GRANVILLE ST & W KING EDWARD AVE","GRANVILLE ST & W PENDER ST","HAMILTON ST & ROBSON ST","HAMILTON ST & W GEORGIA ST","HAMILTON ST & W PENDER ST","HARO ST & JERVIS ST","HARO ST & THURLOW ST","HARWOOD ST & THURLOW ST","HEATHER ST & SW MARINE DR","HEATHER ST & W 12TH AVE","HEATHER ST & W 16TH AVE","HEATHER ST & W 59TH AVE","HEATHER ST & W BROADWAY","HEATHER ST & W KING EDWARD AVE","HEATLEY AVE & POWELL ST","HEATLEY AVE & PRIOR ST","HELMCKEN ST & HOMER ST","HELMCKEN ST & HORNBY ST","HELMCKEN ST & HOWE ST","HELMCKEN ST & RICHARDS ST","HELMCKEN ST & SEYMOUR ST","HEMLOCK ST & W 12TH AVE","HEMLOCK ST & W 15TH AVE","HEMLOCK ST & W 6TH AVE","HEMLOCK ST & W BROADWAY","HOLL& ST & SW MARINE DR","HOMER ST & DAVEIE ST","HOMER ST & NELSON ST","HOMER ST & PACIFIC BOULEVARD","HOMER ST & ROBSON ST","HOMER ST & SMITHE ST","HOMER ST & W CORDOVA ST","HOMER ST & W GEORGIA ST","HOMER ST & W HASTINGS ST","HOMER ST & W PENDER ST","HORNBY ST & DAVEIE ST","HORNBY ST & NELSON ST","HORNBY ST & PACIFIC ST","HORNBY ST & ROBSON ST","HORNBY ST & SMITHE ST","HORNBY ST & W GEORGIA ST","HORNBY ST & W HASTINGS ST","HORNBY ST & W PENDER ST","HOWE ST & DAVEIE ST","HOWE ST & NELSON ST","HOWE ST & PACIFIC ST","HOWE ST & ROBSON ST","HOWE ST & SMITHE ST","HOWE ST & W CORDOVA ST","HOWE ST & W GEORGIA ST","HOWE ST & W HASTINGS ST","HOWE ST & W PENDER ST","HUDSON ST & SW MARINE DR","HUDSON ST & W 70TH AVE","INVERNESS ST & SE MARINE DR","JELLICOE ST & SE MARINE DR","JERVIS ST & MELVILLE ST","JERVIS ST & NELSON ST","JERVIS ST & PACIFIC ST","JERVIS ST & W HASTINGS ST","JERVIS ST & W PENDER ST","JOYCE ST & KINGSWAY","JOYCE ST & VANNESS AVE","KASLO ST & GR&VIEW HIGHWAY","KEEFER ST & MAIN ST","KERR ST & SE MARINE DR","KINGSWAY & KNIGHT ST","KINGSWAY & NANAIMO ST","KINGSWAY & RUPERT ST","KINGSWAY & SLOCAN ST","KINGSWAY & TYNE ST","KINGSWAY & VICTORIA DR","KINGSWAY & WINDSOR ST","KITSILANO DIVERSION & MACDONALD ST & W 11TH AVE","LARCH ST & W 33RD AVE","LARCH ST & W 41ST AVE","LAUREL ST & W BROADWAY","MACDONALD ST & POINT GREY ROAD","MACDONALD ST & PUGET DR","MACDONALD ST & SW MARINE DR","MACDONALD ST & W 16TH AVE","MACDONALD ST & W 41ST AVE","MACDONALD ST & W 4TH AVE","MACDONALD ST & W BROADWAY","MACKENZIE ST & W 33RD AVE","MACKENZIE ST & W 41ST AVE","MAIN ST & ALEX&ER ST","MAIN ST & E 7TH AVE","MAIN ST & POWELL ST","MAIN ST & SE MARINE DR","MAIN ST & TERMINAL AVE","MAIN ST & UNION ST","MAINL& ST & DAVEIE ST","MAINL& ST & NELSON ST","MAINL& ST & SMITHE ST","MALKIN AVE & PRIOR ST","MANITOBA ST & SW MARINE DR","MANITOBA ST & W 3RD AVE","MANITOBA ST & W KENT AVE NORTH","MARGUERITE ST & NANTON AVE","MARINE WAY & SE MARINE DR","MARPOLE AVE & FIR ST","MATHESON CRESCENT & SE MARINE DR","MCGILL ST & N NANAIMO ST","MELVILLE ST & THURLOW ST","MOBERLY ROAD & W 6TH AVE","N BOUNDARY ROAD & CAMBRIDGE ST","NANAIMO ST & DUNDAS ST","NANAIMO ST & GR&VIEW HWY NORTH","NANAIMO ST & GR&VIEW HWY SOUTH","NATAL ST & GR&VIEW HIGHWAY","NATIONAL AVE & QUEBEC ST","NELSON ST & RICHARDS ST","NELSON ST & SEYMOUR ST","NELSON ST & THURLOW ST","NICOLA ST & W GEORGIA ST","NICOLA ST & W PENDER ST","NW MARINE DR & W 4TH AVE","OAK ST & DEVONSHIRE CRESCENT","OAK ST & DOUGLAS CRESCENT","OAK ST & PARK DR","OAK ST & SW MARINE DR","OAK ST & W 10TH AVE","OAK ST & W 12TH AVE","OAK ST & W 16TH AVE","OAK ST & W 32ND AVE","OAK ST & W 33RD AVE","OAK ST & W 41ST AVE","OAK ST & W 49TH AVE","OAK ST & W 57TH AVE","OAK ST & W 59TH AVE","OAK ST & W 6TH AVE","OAK ST & W 70TH AVE","OAK ST & W 7TH AVE","OAK ST & W BROADWAY","OAK ST & W KING EDWARD AVE","ONTARIO ST & SE MARINE DR","PACIFIC BOULEVARD & DRAKE ST","PACIFIC BOULEVARD & NELSON ST","PACIFIC ST & RICHARDS ST","PACIFIC ST & THURLOW ST","POWELL ST & VICTORIA DR","PRINCE EDWARD ST & SE MARINE DR","PRINCESS AVE & PRIOR ST","QUEBEC ST & EXPO BOULEVARD","QUEBEC ST & KEEFER ST","QUEBEC ST & PACIFIC BOULEVARD","QUEBEC ST & TERMINAL AVE","QUEBEC ST & UNION ST","QUESNEL DR & W KING EDWARD AVE","RAYMUR AVE & VENABLES ST","RENFREW ST & DUNDAS ST","RENFREW ST & E 22ND AVE","RENFREW ST & GR&VIEW HIGHWAY","RENFREW ST & HEBB AVE","RICHARDS ST & DAVEIE ST","RICHARDS ST & ROBSON ST","RICHARDS ST & SMITHE ST","RICHARDS ST & W CORDOVA ST","RICHARDS ST & W GEORGIA ST","RICHARDS ST & W HASTINGS ST","RICHARDS ST & W PENDER ST","ROBSON ST & SEYMOUR ST","ROBSON ST & THURLOW ST","RUPERT ST & GR&VIEW HIGHWAY","SASAMAT ST & W 10TH AVE","SE MARINE DR & VICTORIA DR","SEYMOUR ST & DAVEIE ST","SEYMOUR ST & PACIFIC ST","SEYMOUR ST & SMITHE ST","SEYMOUR ST & W CORDOVA ST","SEYMOUR ST & W GEORGIA ST","SEYMOUR ST & W HASTINGS ST","SEYMOUR ST & W PENDER ST","SKEENA ST & GR&VIEW HIGHWAY","SLOCAN ST & GR&VIEW HWY NORTH","STATION ST & TERMINAL AVE","SW MARINE DR & SHAUGHNESSY ST","SW MARINE DR & W 41ST AVE","SW MARINE DR & W 49TH AVE","SW MARINE DR & W 57TH AVE","SW MARINE DR & W 70TH AVE & TURNING LANE","SW MARINE DR & YUKON ST","TERMINAL AVE & THORNTON ST","THORNTON ST & MALKIN AVE","THURLOW ST & DAVEIE ST","THURLOW ST & W CORDOVA ST","THURLOW ST & W GEORGIA ST","THURLOW ST & W HASTINGS ST","THURLOW ST & W PENDER ST","TRAFALGAR ST & W 12TH AVE","TRANS CANADA HIGHWAY & E 1ST AVE","TRIMBLE ST & W 4TH AVE","TRUTCH ST & W 10TH AVE","TRUTCH ST & W BROADWAY","TYNE ST & E 54TH AVE","VENABLES ST & VICTORIA DR","VICTORIA DIVERSION & VICTORIA DR","VICTORIA DR & E 54TH AVE","VICTORIA DR & E KENT AVE SOUTH","VICTORIA DR & UPL& DR","VINE ST & W 10TH AVE","VINE ST & W 4TH AVE","W 10TH AVE & YEW ST","W 12TH AVE & YUKON ST","W 41ST AVE & WEST BOULEVARD","W 57TH AVE & WEST BOULEVARD","W 6TH AVE & YUKON ST","W 7TH AVE & YUKON ST","W 8TH AVE & YUKON ST","W BROADWAY & WILLOW ST","W BROADWAY & YUKON ST","WEST BOULEVARD & W 37TH AVE","WEST BOULEVARD & W 49TH AVE","WOLFE AVE & W 16TH AVE","WOODL& DR & E BROADWAY","WOODL& DR & GR&VIEW HWY NORTH","YUKON ST & W KENT AVE NORTH")
                .map { it.capitalizeWords() }
        }
    }

    private fun String.capitalizeWords(): String = split(" ").map { it.toLowerCase().capitalize() }.joinToString(" ")
}